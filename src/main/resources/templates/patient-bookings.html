<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
    <title th:text="'Bokningar ' + ${#strings.concat(patient.firstName + ' ' + patient.lastName)}">Document</title>
</head>
<body>
    <div class="container">
        <div class="card mt-5">
            <div class="card-header">
                <div class="nav d-flex justify-content-between align-items-center text-center">
                    <h4 class="m-0" th:text="${patient.firstName + ' ' + patient.lastName}">Nisse Nilsson</h4>
                    <form>
                        <button class="btn btn-success btn-large" type="submit">Logga Ut</button>
                    </form>
                </div>                            
            </div>
            <div class="card-body">              
                <h5 class="card-subtitle">Dina bokningar:</h5>
                <div th:if="${patient.vaccineBookings == null or patient.vaccineBookings.isEmpty()}">
                    <p>Du har inte bokat vaccin ännu</p>
                    <a class="btn btn-primary btn-lg">Boka här</a>
                </div>
                <div th:unless="${patient.vaccineBookings == null or patient.vaccineBookings.isEmpty()}"
                     class="row row-cols-1 row-cols-md-2  row-cols-lg-4 g-2 mt-1"
                     th:each="booking : ${patient.vaccineBookings}"
                >
                    <div class="col">
                        <div th:replace="fragments/fragments.html :: bookingCard">

                        </div>
                        <!--
                        <div class="card shadow">
                          <div class="card-header">
                            <h5 class="card-title text-center m-0" th:text="${booking.dateTime}">2022-02-13 @13:00</h5>
                          </div>                          
                          <div class="card-body">
                            <h5 class="card-subtitle mb-1">Uppgifter:</h5>
                            <div class="row row-cols-2">
                              <div class="col">
                                <span class="card-text">Pris:</span>
                              </div>
                              <div class="col">
                                <span class="card-text" th:text="${booking.price + ' SEK'}">499 SEK</span>
                              </div>
                            </div>
                            <div class="row row-cols-2">
                              <div class="col">
                                <span class="card-text">Vaccin:</span>                                
                              </div>
                              <div class="col">
                                <span class="card-text" th:text="${booking.vaccineType}">Covid 19</span>
                              </div>
                            </div>

                            <div class="row row-cols-1 row-cols-md-2 gap-2 mt-1 mx-auto justify-content-md-evenly">
                              <a th:href="@{/bookings/{id}(id = ${booking.id})}" class="col col-sm-12 col-md-5 btn btn-info text-white">Detaljer</a>
                              <a th:href="@{/patients/{id}/bookings/cancel (id = ${patient.id}, bookingId = ${booking.id})}" class="col col-sm-12 col-md-5 btn btn-warning text-white">Avboka</a>
                            </div>                             
                          </div>
                        </div> -->

                    </div>                                          
                </div>
            </div>
            <div class="card-footer">                    
              <ul class="row nav nav-pills card-header-pills row-cols-1 row-cols-md-3 row-cols-lg-5">
                  <li class="col nav-item">
                      <a th:href="@{/patients/{id}(id=${patient.id})}" class="nav-link text-center">Hem</a>
                  </li>
                  <li class="col nav-item">
                      <a class="nav-link text-center">Uppdatera</a>
                  </li>
                  <li class="col nav-item">
                      <a class="nav-link text-center">Användare</a>
                  </li>
                  <li class="col nav-item">
                      <a class="nav-link active text-center">Bokningar</a>
                  </li>
                  <li class="col nav-item">
                      <a class="nav-link text-center">Sök tider</a>
                  </li>                       
              </ul>
          </div>
        </div>
    </div>
    <script th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
</body>
</html>